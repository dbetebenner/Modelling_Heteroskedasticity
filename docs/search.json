[
  {
    "objectID": "index.html",
    "href": "index.html",
    "title": "Modelling Heteroskedasticity",
    "section": "",
    "text": "Heteroskedastic data (data with non-constant variability across the range of one or more independent variables) occurs in numerous contexts. Using ordinary least squares regression can obscure important features of the relationship between the independent and dependent variable. Ordinary least squares regression assumes data follows a linear trend and that it is homoskedastic across the range of the independent variable(s). Strictly, this is rarely ever the case but the differences obtained from modelling using techniques that relax these assumptions is not large.\nHowever, when data is demonstrably non-linear and/or heteroskedastistic, one can utilize quantile regression together with splines to model the entire distribution. The quantile regression allows one to examine heteroskasticitiy and the splines allow one to model any non-linearity.\nTo illustrate I’ve created some simulated some heteroskedastic data and then fit the data using both OLS (red) and quantile regression (blue). The quantile regression is fit at the deciles (0.1, 0.2, 0.3, …, 0.9 quantiles). Whereas the OLS line models the conditional mean of the distribution, quantile regression models the conditional quantile. The most common quantile regression fit is for the conditional median, which is often quite close to the conditional mean.\nIn addition, we model the data parametrically using lines as well as non-parametrically using splines. The simulated data was not created to include a lot of non-linearity, so the impact of fitting with splines is modest. However, other data may show more dramatic differences.\n\nlibrary(quantreg)\n\nLoading required package: SparseM\n\n\n\nAttaching package: 'SparseM'\n\n\nThe following object is masked from 'package:base':\n\n    backsolve\n\nlibrary(splines)\n\n## Generate a simple dataset with heteroskedasticity\nx &lt;- seq(0, 1, length=1000)\ny &lt;- -.25*x + 1 + rnorm(1000, sd=seq(0.02, 0.25, length=1000))\ny[y &gt;= 1.1] &lt;- 1.1 + rnorm(length(y[y &gt;= 1.1]), sd=0.03)\nlm.1 &lt;- lm(y ~ x)\nlm.1.predict &lt;- predict(lm.1)\nlm.1.splines &lt;- lm(y ~ bs(x))\nlm.1.splines.predict &lt;- predict(lm.1.splines)\nqr.1 &lt;- rq(y ~ x, tau=1:9/10)\nqr.1.predict &lt;- predict(qr.1)\nqr.1.splines &lt;- rq(y ~ bs(x), tau=1:9/10)\nqr.1.splines.predict &lt;- predict(qr.1.splines)\n\n\nDataLinear FitSpline Fit\n\n\n\nplot(x, y)\n\n\n\n\n\n\n\nplot(x, y)\npoints(x, lm.1.predict, type=\"l\", col=\"red\")\nfor (col.iter in seq(ncol(qr.1.predict))) {\n    points(x, qr.1.predict[,col.iter], type=\"l\", col=\"blue\")\n}\n\n\n\n\n\n\n\nplot(x, y)\npoints(x, lm.1.splines.predict, type=\"l\", col=\"red\")\nfor (col.iter in seq(ncol(qr.1.predict))) {\n    points(x, qr.1.splines.predict[,col.iter], type=\"l\", col=\"blue\")\n}"
  },
  {
    "objectID": "license.html",
    "href": "license.html",
    "title": "License",
    "section": "",
    "text": "License\nThis is a human-readable summary of (and not a substitute for) the license. Please see https://creativecommons.org/licenses/by-sa/4.0/legalcode for the full legal text.\nThis work is licensed under the Creative Commons Attribution-ShareAlike 4.0 International (CC BY-SA 4.0).\nYou are free to:\n\nShare—copy and redistribute the material in any medium or format\nAdapt—remix, transform, and build upon the material for any purpose, even commercially.\n\nThe licensor cannot revoke these freedoms as long as you follow the license terms.\nUnder the following terms:\n\nAttribution—You must give appropriate credit, provide a link to the license, and indicate if changes were made. You may do so in any reasonable manner, but not in any way that suggests the licensor endorses you or your use.\nShareAlike—If you remix, transform, or build upon the material, you must distribute your contributions under the same license as the original.\n\nNo additional restrictions—You may not apply legal terms or technological measures that legally restrict others from doing anything the license permits.\nNotices:\nYou do not have to comply with the license for elements of the material in the public domain or where your use is permitted by an applicable exception or limitation.\nNo warranties are given. The license may not give you all of the permissions necessary for your intended use. For example, other rights such as publicity, privacy, or moral rights may limit how you use the material."
  }
]